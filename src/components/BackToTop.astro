---

---

<button
    id="back-to-top"
    class="btn rounded-circle position-fixed shadow text-accent d-flex align-items-center justify-content-center"
    style="background-color: #111; border: 2px solid var(--accent);"
    aria-label="Back to top"
    title="Back to top"
>
    <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="currentColor"
        class="bi bi-chevron-up"
        viewBox="0 0 16 16"
    >
        <path
            fill-rule="evenodd"
            d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"
        ></path>
    </svg>
</button>

<style>
    #back-to-top {
        bottom: 24px;
        right: 24px;
        width: 48px;
        height: 48px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        transform: translateY(20px);
        border: none;
    }

    #back-to-top.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
</style>

<script>
    function setupBackToTop() {
        const btn = document.getElementById("back-to-top");
        if (!btn) return;

        const toggleVisibility = () => {
            if (window.scrollY > 400) {
                btn.classList.add("show");
            } else {
                btn.classList.remove("show");
            }
        };

        // Check on initial load
        toggleVisibility();

        window.addEventListener("scroll", toggleVisibility, { passive: true });

        btn.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth",
            });
        });
    }

    // Use Astro's page-load event so it binds correctly on View Transitions
    document.addEventListener("astro:page-load", setupBackToTop);
</script>
